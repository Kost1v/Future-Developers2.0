import{a as u,S as w,N as g,P as v}from"./assets/vendor-CJk0b1BB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();u.defaults.baseURL="https://portfolio-js.b.goit.study/api";class y{async getReviews(){try{return(await u.get("/reviews")).data}catch{throw new Error("Error fetching reviews")}}}const p=document.querySelector(".js-reviews-list"),f=document.querySelector(".button-prev"),m=document.querySelector(".button-next"),b=document.querySelector(".review-swiper-container"),h=()=>{const r=document.createElement("div");r.classList.add("loader-container","js-loader-container","hidden");const t=document.createElement("span");return t.classList.add("loader","js-loader"),r.appendChild(t),b.appendChild(r),m.disabled=!0,f.disabled=!0,document.querySelectorAll(".swiper-button-lock").forEach(i=>{i.style.display="block"}),r},c=h(),n=r=>{r?c.classList.remove("hidden"):c.classList.add("hidden")};function L(r){const t=r.map(({_id:s,author:i,avatar_url:e,review:o})=>`<li class="swiper-slide review-swiper-slide" data-id="${s}">
          <div class="swiper-card">
            <div class="card-image" style="background: #e0e0e0 url('${e}') no-repeat center center; background-size: cover;"></div>
            <h3 class="card-title">${i}</h3>
            <p class="card-text">${o}</p>
          </div>
        </li>`).join("");return p.insertAdjacentHTML("beforeend",t)}function l(){p.innerHTML='<div class="err-container"></div>';const r=document.querySelector(".err-container");lottie.loadAnimation({container:r,renderer:"svg",loop:!0,autoplay:!0,path:"./img/redcat.json"}),m.disabled=!0,f.disabled=!0,document.querySelectorAll(".swiper-button-lock").forEach(s=>{s.style.display="block"})}function d(){return iziToast.error({icon:!1,message:"Failed to load data. Please try again later!",backgroundColor:"#ed3b44",maxWidth:400,timeout:2e3,messageColor:"#fafafb",messageSize:"16",theme:"dark",progressBarColor:"#b51b1",position:"bottomRight"})}new w(".review-swiper",{initialSlide:0,speed:400,spaceBetween:16,modules:[g,v],preventClicks:!0,freeMode:!1,slidesPerGroup:1,navigation:{nextEl:".button-next",prevEl:".button-prev"},mousewheel:{invert:!0},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{375:{slidesPerView:1},768:{slidesPerView:2},1440:{slidesPerView:4}}});async function P(){const r=new y;n(!0);try{const t=await r.getReviews();t&&t.length>0?(L(t),n(!1)):(n(!1),l(),d())}catch{n(!1),l(),d()}}P();
//# sourceMappingURL=index.js.map
