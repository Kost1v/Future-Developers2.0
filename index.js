import{g as L,A as E,S as y,N as w,K as k,a as v,P as S}from"./assets/vendor-C6wL-cGH.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const A=document.querySelector(".menu-link"),o=document.querySelector(".menu-list"),P=document.querySelector(".burger-btn"),c=document.querySelector(".burger-menu"),q=document.querySelector(".close-btn"),C=document.querySelector(".burger-order-btn"),B=document.querySelector(".burger-menu-list");A.addEventListener("click",l);P.addEventListener("click",N);q.addEventListener("click",u);o.addEventListener("click",l);C.addEventListener("click",u);B.addEventListener("click",u);document.body.addEventListener("click",e=>{!o.classList.contains("visually-hidden")&&!e.target.classList.contains("menu-link")&&l()});document.addEventListener("keydown",e=>{e.key==="Escape"&&!o.classList.contains("visually-hidden")&&l()});const x=new KeyframeEffect(o,[{opacity:"0",transform:"translateY(-100%)"},{opacity:"1",transform:"translateY(0)"}],{duration:500}),K=new KeyframeEffect(o,[{opacity:"1",transform:"translateY(0)"},{opacity:"0",transform:"translateY(-100%)"}],{duration:500}),M=new Animation(x,document.timeline),V=new Animation(K,document.timeline),j=new KeyframeEffect(c,[{transform:"translateX(100%)"},{transform:"translateX(0)"}],{duration:500}),O=new KeyframeEffect(c,[{transform:"translateX(0)"},{transform:"translateX(100%)"}],{duration:500}),T=new Animation(j,document.timeline),I=new Animation(O,document.timeline);function l(){if(o.classList.contains("visually-hidden")){M.play(),o.classList.remove("visually-hidden");return}V.play(),setTimeout(()=>{o.classList.add("visually-hidden")},500)}function N(){c.classList.add("is-open"),T.play(),document.body.style.overflow="hidden"}function u(){I.play(),setTimeout(()=>{c.classList.remove("is-open")},500),document.body.style.overflow=""}const R=window.matchMedia("(min-width: 768px)");R.matches&&L.fromTo("h1",{x:-500,scale:.05},{rotation:360,x:0,duration:1,scale:1});new E(".about-me-list",{duration:300,showMultiple:!1,openOnInit:[0]});new y(".swiper-container-about",{modules:[w,k],loop:!0,slidesPerView:2,breakpoints:{768:{slidesPerView:3},1440:{slidesPerView:6}},navigation:{nextEl:".swiper-button-next"},keyboard:{enabled:!0,onlyInViewport:!0},touchEventsTarget:"container",allowSlidePrev:!1});v.defaults.baseURL="https://portfolio-js.b.goit.study/api";class X{async getReviews(){try{return(await v.get("/reviews")).data}catch{throw new Error("Error fetching reviews")}}}const b=document.querySelector(".js-reviews-list"),g=document.querySelector(".button-prev"),h=document.querySelector(".button-next"),Y=document.querySelector(".review-swiper-container"),$=()=>{const e=document.createElement("div");e.classList.add("loader-container","js-loader-container","hidden");const r=document.createElement("span");return r.classList.add("loader","js-loader"),e.appendChild(r),Y.appendChild(e),h.disabled=!0,g.disabled=!0,document.querySelectorAll(".swiper-button-lock").forEach(i=>{i.style.display="block"}),e},m=$(),a=e=>{e?m.classList.remove("hidden"):m.classList.add("hidden")};function z(e){const r=e.map(({_id:s,author:i,avatar_url:t,review:n})=>`<li class="swiper-slide review-swiper-slide" data-id="${s}">
          <div class="swiper-card">
            <div class="card-image" style="background: #e0e0e0 url('${t}') no-repeat center center; background-size: cover;"></div>
            <h3 class="card-title">${i}</h3>
            <p class="card-text">${n}</p>
          </div>
        </li>`).join("");return b.insertAdjacentHTML("beforeend",r)}function p(){b.innerHTML='<div class="err-container"></div>';const e=document.querySelector(".err-container");lottie.loadAnimation({container:e,renderer:"svg",loop:!0,autoplay:!0,path:"./img/redcat.json"}),h.disabled=!0,g.disabled=!0,document.querySelectorAll(".swiper-button-lock").forEach(s=>{s.style.display="block"})}function f(){return iziToast.error({icon:!1,message:"Failed to load data. Please try again later!",backgroundColor:"#ed3b44",maxWidth:400,timeout:2e3,messageColor:"#fafafb",messageSize:"16",theme:"dark",progressBarColor:"#b51b1",position:"bottomRight"})}new y(".review-swiper",{initialSlide:0,speed:400,spaceBetween:16,modules:[w,S],preventClicks:!0,freeMode:!1,slidesPerGroup:1,navigation:{nextEl:".button-next",prevEl:".button-prev"},mousewheel:{invert:!0},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{375:{slidesPerView:1},768:{slidesPerView:2},1440:{slidesPerView:4}}});async function D(){const e=new X;a(!0);try{const r=await e.getReviews();r&&r.length>0?(z(r),a(!1)):(a(!1),p(),f())}catch{a(!1),p(),f()}}D();
//# sourceMappingURL=index.js.map
